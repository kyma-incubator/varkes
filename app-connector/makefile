#This is currently similar to our jenkins build, install and build the docker image.
.PHONY: ci
ci: resolve validate


resolve:
	npm install

#commenting out test, because there is a special case for this repo.
validate:
	npm run-script test

# To see docker build command refer to package.json/scripts build. => docker build -t varkes/app-connector .
build:
	docker build -t badrawi/varkes-app-connector:latest .

push:
	docker push badrawi/varkes-app-connector:latest

clean:
	rm -rf ./node_modules && rm -f tslinter.json whitesource.config.json ws-IsJson.json .npmrc

run:
	npm start
